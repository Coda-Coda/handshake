<!DOCTYPE html>
<html>

<head>

  <meta property="og:url" content="https://coda-coda.github.io/handshake/EEE/generate" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Handshake: Make contact tracing easier" />
  <meta property="og:description"
    content="Scan QR codes to record connections." />
  <meta property="og:image" content="https://coda-coda.github.io/handshake/large_logo_open_graph2.png" />
  <meta property="og:image:secure_url" content="https://coda-coda.github.io/handshake/large_logo_open_graph2.png" />

  <link rel="shortcut icon" href="https://coda-coda.github.io/handshake/favicon.ico">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <script type="text/javascript" src="qrcode.js">
  </script>
  <script type="text/javascript" src="html5-qrcode.js">
  </script>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
    Handshake - Generate your QR code
  </title>
  <style type="text/css" media="screen">
    body {
      text-align: center;
    }
  </style>
  <link rel="stylesheet" type="text/css" href="../style.css">
  <link href="https://fonts.googleapis.com/css?family=Lato:900&display=swap" rel="stylesheet">
</head>

<body>


  <script type="text/javascript">
    function updateQRCode(text) {

      var element = document.getElementById("qrcode");

      var bodyElement = document.body;
      if (element.lastChild)
        element.replaceChild(showQRCode(text), element.lastChild);
      else
        element.appendChild(showQRCode(text));

    }

    updateQRCode('ERROR');
  </script>
  <span id="preSubmitInfo">
  <br>
  <span class="heading_hand" style="font-size:xx-large;">Hand</span><span style="font-size:xx-large;" class="heading_shake">shake</span>
  <br>
  <br>
  
  <form name="QRform" id="QRform" onsubmit="event.preventDefault();
      name = document.getElementById('name');
      if (name.value=='') {
        mailtoLink = 'mailto:' + document.getElementById('email').value + '?subject=Handshake Record&body=This is a record of a Handshake interaction. tinyurl.com/covidhandshake (Keywords: contact tracing, coronavirus, covid19, covid-19).';
      }
      else {
        mailtoLink = 'mailto:' + document.getElementById('email').value + '?subject=Handshake Record&body=This is a record of a Handshake interaction using the QR code of ' + name.value + '. tinyurl.com/covidhandshake (Keywords: contact tracing, coronavirus, covid19, covid-19).';
      }

      updateQRCode(mailtoLink);
      document.getElementById('generatedContent').style.visibility = 'visible';
      document.getElementById('preSubmitInfo').style.visibility = 'hidden';
      ">

    <table class="center">
      <tr>
        <td style="text-align: right;"><span class="normal_text">Your email address:</span> </td>
        <td><input type="email" name="email" id="email" rows="8" cols="50" required></td>
      </tr>
      <tr>
        <td style="text-align: right;"><span class="normal_text">Name (optional):</span> </td>
        <td><input type="text" name="name" id="name" rows="8" cols="50"></td>
      </tr>
    </table>
    <input class="submit_button" type="submit" value="Click here to generate your own QR code">
  </form>
  </span>

  <!-- This is where our QRCode will appear in. -->
  <span id="generatedContent" style="visibility:hidden">
    <br>
    <br>
    <br>
    <span class="heading_hand" style="font-size:xx-large;">Hand</span><span style="font-size:xx-large;" class="heading_shake">shake</span>
    <br>
    <div id="qrcode" style="width: 250px; background-color: white;  margin-left:auto; margin-right:auto;"></div>
    </span>


    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
</body>