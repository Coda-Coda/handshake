<!DOCTYPE html>
<html>

<head>

  <meta property="og:url" content="https://coda-coda.github.io/handshake/EEE/generate" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Handshake: Make contact tracing easier" />
  <meta property="og:description"
    content="Scan QR codes to record connections." />
  <meta property="og:image" content="https://coda-coda.github.io/handshake/large_logo_open_graph2.png" />
  <meta property="og:image:secure_url" content="https://coda-coda.github.io/handshake/large_logo_open_graph2.png" />

  <link rel="shortcut icon" href="https://coda-coda.github.io/handshake/favicon.ico">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <script type="text/javascript" src="qrcode.js">
  </script>
  <script type="text/javascript" src="html5-qrcode.js">
  </script>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
    QR Code Generator
  </title>
  <style type="text/css" media="screen">
    body {
      text-align: center;
    }
  </style>
  <link rel="stylesheet" type="text/css" href="../style.css">
  <link href="https://fonts.googleapis.com/css?family=Lato:900&display=swap" rel="stylesheet">
</head>

<body onload="document.getElementById('url').value='https\:\/\/'">


  <script type="text/javascript">
    function updateQRCode(text) {

      var element = document.getElementById("qrcode");

      var bodyElement = document.body;
      if (element.lastChild)
        element.replaceChild(showQRCode(text), element.lastChild);
      else
        element.appendChild(showQRCode(text));

    }

    updateQRCode('ERROR');
  </script>
  <span id="preSubmitInfo">
  <br>
  <span style="font-size:xx-large;" class="heading_shake">QR Code Generator</span>
  <br>
  <br>
  
  <form name="QRform" id="QRform" onsubmit="event.preventDefault();
      alert('hi');
      updateQRCode(document.getElementById('url').value);
      document.getElementById('generatedContent').style.visibility = 'visible';
      ">

    <table class="center">
      <tr>
        <td style="text-align: right;"><span class="normal_text">URL:</span> </td>
        <td><input type="text" name="url" id="url" rows="8" cols="50" required></td>
      </tr>
    </table>
    <input class="submit_button" type="submit" value="Click here to generate your QR code">
  </form>
  </span>

  <!-- This is where our QRCode will appear in. -->
  <span id="generatedContent" style="visibility:hidden">
    <br>
    <span class="heading_hand" style="font-size:xx-large;">Hand</span><span style="font-size:xx-large;" class="heading_shake">shake</span>
    <br>
    <div id="qrcode" style="width: 250px; background-color: white;  margin-left:auto; margin-right:auto;"></div>
  </span>
  <span></span>
</body>